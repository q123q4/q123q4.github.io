<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å…¨çƒæ—¶åŒºè½¬æ¢å™¨ | å®æ—¶è·¨å›½æ—¶é—´æŸ¥è¯¢å·¥å…·</title>
  <!-- å¼•å…¥å¤–éƒ¨èµ„æº -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <!-- Tailwind é…ç½® -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#2563eb',
            secondary: '#10b981',
            accent: '#f59e0b',
            dark: '#1e293b',
            light: '#f8fafc'
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      .bg-glass {
        background: rgba(255, 255, 255, 0.7);
        backdrop-filter: blur(10px);
      }
      .card-hover {
        @apply hover:shadow-lg hover:-translate-y-1 transition-all duration-300;
      }
      .time-zone-offset {
        @apply text-xs px-2 py-1 rounded-full bg-gray-100;
      }
    }
  </style>
</head>

<body class="font-inter bg-gradient-to-br from-blue-50 to-indigo-50 min-h-screen text-dark">
  <!-- å¯¼èˆªæ  -->
  <nav class="sticky top-0 z-50 bg-glass border-b border-gray-200 shadow-sm">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
      <div class="flex items-center space-x-2">
        <i class="fa fa-globe text-primary text-2xl"></i>
        <span class="font-bold text-xl text-primary">æ—¶åŒºè½¬æ¢å™¨</span>
      </div>
      <div class="hidden md:flex items-center space-x-6">
        <a href="#" class="text-gray-700 hover:text-primary transition-colors">é¦–é¡µ</a>
        <a href="#world-clock" class="text-gray-700 hover:text-primary transition-colors">ä¸–ç•Œæ—¶é’Ÿ</a>
        <a href="#about" class="text-gray-700 hover:text-primary transition-colors">å…³äº</a>
      </div>
      <button class="md:hidden text-gray-700">
        <i class="fa fa-bars text-xl"></i>
      </button>
    </div>
  </nav>

  <div class="container mx-auto px-4 py-8 max-w-6xl">
    <!-- æ ‡é¢˜åŒºåŸŸ -->
    <header class="text-center mb-12 mt-6">
      <h1 class="text-[clamp(2rem,5vw,3.5rem)] font-bold text-primary mb-3 text-shadow">
        å…¨çƒæ—¶åŒºå®æ—¶è½¬æ¢
      </h1>
      <p class="text-gray-600 text-lg max-w-2xl mx-auto">
        è½»æ¾æŸ¥è¯¢ä¸–ç•Œå„åœ°çš„æ—¶é—´ï¼Œæ”¯æŒä»»æ„æ—¶åŒºè½¬æ¢ï¼Œæ–¹ä¾¿å›½é™…äº¤æµä¸åä½œ
      </p>
    </header>

    <!-- ä¸»è¦å†…å®¹åŒº -->
    <main>
      <!-- å½“å‰æ—¶é—´æ˜¾ç¤º -->
      <div class="bg-white rounded-xl shadow-md p-6 mb-10 text-center">
        <p class="text-gray-500 mb-2">æ‚¨çš„æœ¬åœ°æ—¶é—´</p>
        <div id="local-time" class="text-[clamp(1.8rem,4vw,3rem)] font-mono font-bold text-dark"></div>
        <p id="local-date" class="text-gray-600 mt-2 text-lg"></p>
        <p id="local-timezone" class="text-gray-500 text-sm mt-1"></p>
      </div>

      <!-- æ—¶åŒºè½¬æ¢å¡ç‰‡ -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
        <!-- æºæ—¶åŒº -->
        <div class="bg-white rounded-xl shadow-md p-6 card-hover">
          <div class="flex justify-between items-center mb-6">
            <h2 class="text-xl font-semibold text-primary flex items-center">
              <i class="fa fa-clock-o mr-2"></i>æºæ—¶åŒº
            </h2>
            <button id="swap-btn" class="p-3 rounded-full bg-primary/10 text-primary hover:bg-primary/20 transition-all duration-300">
              <i class="fa fa-exchange"></i>
            </button>
          </div>
          
          <div class="mb-5">
            <label for="source-timezone" class="block text-sm font-medium text-gray-700 mb-1">é€‰æ‹©åŸå¸‚</label>
            <select id="source-timezone" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-300 bg-gray-50">
              <!-- é€‰é¡¹å°†é€šè¿‡JSå¡«å…… -->
            </select>
          </div>
          
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-5">
            <div>
              <label for="source-date" class="block text-sm font-medium text-gray-700 mb-1">æ—¥æœŸ</label>
              <input type="date" id="source-date" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-300 bg-gray-50">
            </div>
            <div>
              <label for="source-time" class="block text-sm font-medium text-gray-700 mb-1">æ—¶é—´</label>
              <input type="time" id="source-time" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-300 bg-gray-50">
            </div>
          </div>
          
          <div class="flex items-center text-sm text-gray-500">
            <i class="fa fa-info-circle mr-2 text-primary"></i>
            <span id="source-timezone-info"></span>
          </div>
        </div>
        
        <!-- ç›®æ ‡æ—¶åŒº -->
        <div class="bg-white rounded-xl shadow-md p-6 card-hover">
          <h2 class="text-xl font-semibold text-secondary flex items-center mb-6">
            <i class="fa fa-flag mr-2"></i>ç›®æ ‡æ—¶åŒº
          </h2>
          
          <div class="mb-5">
            <label for="target-timezone" class="block text-sm font-medium text-gray-700 mb-1">é€‰æ‹©åŸå¸‚</label>
            <select id="target-timezone" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-secondary focus:border-secondary transition-all duration-300 bg-gray-50">
              <!-- é€‰é¡¹å°†é€šè¿‡JSå¡«å…… -->
            </select>
          </div>
          
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-5">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">è½¬æ¢åæ—¥æœŸ</label>
              <div id="target-date" class="w-full px-4 py-3 rounded-lg border border-gray-300 bg-gray-50 min-h-[44px] flex items-center">
                <!-- ç»“æœå°†é€šè¿‡JSå¡«å…… -->
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">è½¬æ¢åæ—¶é—´</label>
              <div id="target-time" class="w-full px-4 py-3 rounded-lg border border-gray-300 bg-gray-50 min-h-[44px] flex items-center font-mono">
                <!-- ç»“æœå°†é€šè¿‡JSå¡«å…… -->
              </div>
            </div>
          </div>
          
          <div class="flex items-center text-sm text-gray-500">
            <i class="fa fa-info-circle mr-2 text-secondary"></i>
            <span id="target-timezone-info"></span>
          </div>
        </div>
      </div>
      
      <!-- è½¬æ¢ç»“æœè¯´æ˜ -->
      <div id="conversion-result" class="bg-white rounded-xl shadow-md p-6 mb-12 hidden">
        <h3 class="text-lg font-semibold text-gray-800 mb-3 flex items-center">
          <i class="fa fa-arrow-right text-accent mr-2"></i>è½¬æ¢ç»“æœ
        </h3>
        <p id="result-text" class="text-gray-700"></p>
      </div>
      
      <!-- ä¸–ç•Œæ—¶é’Ÿ -->
      <section id="world-clock" class="mb-16">
        <h2 class="text-2xl font-bold text-center mb-8 text-primary">
          <i class="fa fa-clock-o mr-2"></i>ä¸–ç•Œä¸»è¦åŸå¸‚æ—¶é—´
        </h2>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
          <!-- ä¸–ç•Œæ—¶é’Ÿå¡ç‰‡å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
        </div>
      </section>
      
      <!-- å¤ä»¤æ—¶è¯´æ˜ -->
      <section id="about" class="bg-white rounded-xl shadow-md p-6 mb-12">
        <h2 class="text-2xl font-bold mb-4 text-primary">å…³äºæ—¶åŒºä¸å¤ä»¤æ—¶</h2>
        <div class="prose max-w-none">
          <p class="text-gray-700 mb-4">
            æ—¶åŒºæ˜¯åœ°çƒä¸Šçš„åŒºåŸŸä½¿ç”¨åŒä¸€ä¸ªæ—¶é—´å®šä¹‰ã€‚ä»¥å‰ï¼Œäººä»¬é€šè¿‡è§‚å¯Ÿå¤ªé˜³çš„ä½ç½®æ¥å†³å®šæ—¶é—´ï¼Œè¿™å°±ä½¿å¾—ä¸åŒç»åº¦çš„åœ°æ–¹æ—¶é—´ä¸åŒã€‚1884å¹´åœ¨åç››é¡¿å¬å¼€çš„å›½é™…ç»åº¦ä¼šè®®ä¸Šï¼Œè§„å®šå°†å…¨çƒåˆ’åˆ†ä¸º24ä¸ªæ—¶åŒºï¼Œæ¯ä¸ªæ—¶åŒºæ¨ªè·¨ç»åº¦15åº¦ï¼Œæ—¶é—´æ­£å¥½æ˜¯1å°æ—¶ã€‚
          </p>
          <p class="text-gray-700 mb-4">
            å¤ä»¤æ—¶ï¼ˆDaylight Saving Timeï¼‰æ˜¯ä¸€ç§ä¸ºèŠ‚çº¦èƒ½æºè€Œäººä¸ºè§„å®šåœ°æ–¹æ—¶é—´çš„åˆ¶åº¦ï¼Œåœ¨è¿™ä¸€åˆ¶åº¦å®è¡ŒæœŸé—´æ‰€é‡‡ç”¨çš„ç»Ÿä¸€æ—¶é—´ç§°ä¸º"å¤ä»¤æ—¶é—´"ã€‚ä¸€èˆ¬åœ¨å¤©äº®æ—©çš„å¤å­£äººä¸ºå°†æ—¶é—´è°ƒå¿«ä¸€å°æ—¶ï¼Œå¯ä»¥ä½¿äººæ—©èµ·æ—©ç¡ï¼Œå‡å°‘ç…§æ˜é‡ï¼Œä»¥å……åˆ†åˆ©ç”¨å…‰ç…§èµ„æºï¼Œä»è€ŒèŠ‚çº¦ç…§æ˜ç”¨ç”µã€‚
          </p>
          <p class="text-gray-700">
            æœ¬å·¥å…·å·²è€ƒè™‘å„æ—¶åŒºçš„å¤ä»¤æ—¶è§„åˆ™ï¼Œè½¬æ¢ç»“æœä¼šè‡ªåŠ¨é€‚åº”å¤ä»¤æ—¶å˜åŒ–ã€‚
          </p>
        </div>
      </section>
    </main>

    <!-- é¡µè„š -->
    <footer class="bg-dark text-white py-8 rounded-xl">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div>
            <h3 class="text-lg font-semibold mb-4 flex items-center">
              <i class="fa fa-globe text-primary mr-2"></i>æ—¶åŒºè½¬æ¢å™¨
            </h3>
            <p class="text-gray-400 text-sm">
              ä¸€ä¸ªç®€å•ã€å®ç”¨çš„å…¨çƒæ—¶åŒºè½¬æ¢å·¥å…·ï¼Œå¸®åŠ©æ‚¨è½»æ¾åº”å¯¹è·¨å›½äº¤æµä¸åä½œã€‚
            </p>
          </div>
          <div>
            <h3 class="text-lg font-semibold mb-4">å¿«é€Ÿé“¾æ¥</h3>
            <ul class="space-y-2 text-gray-400">
              <li><a href="#" class="hover:text-primary transition-colors">é¦–é¡µ</a></li>
              <li><a href="#world-clock" class="hover:text-primary transition-colors">ä¸–ç•Œæ—¶é’Ÿ</a></li>
              <li><a href="#about" class="hover:text-primary transition-colors">å…³äºæ—¶åŒº</a></li>
            </ul>
          </div>
          <div>
            <h3 class="text-lg font-semibold mb-4">è”ç³»æˆ‘ä»¬</h3>
            <div class="flex space-x-4 text-gray-400">
              <a href="#" class="hover:text-primary transition-colors"><i class="fa fa-github text-xl"></i></a>
              <a href="#" class="hover:text-primary transition-colors"><i class="fa fa-twitter text-xl"></i></a>
              <a href="#" class="hover:text-primary transition-colors"><i class="fa fa-envelope text-xl"></i></a>
            </div>
          </div>
        </div>
        <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-500 text-sm">
          &copy; <span id="current-year"></span> æ—¶åŒºè½¬æ¢å™¨ | ä¿ç•™æ‰€æœ‰æƒåˆ©
        </div>
      </div>
    </footer>
  </div>

  <script>
    // å…¨çƒä¸»è¦åŸå¸‚åŠæ—¶åŒºæ•°æ®
    const timezones = [
      { city: "åŒ—äº¬", country: "ä¸­å›½", zone: "Asia/Shanghai", offset: 8, flag: "ğŸ‡¨ğŸ‡³" },
      { city: "é¦™æ¸¯", country: "ä¸­å›½", zone: "Asia/Hong_Kong", offset: 8, flag: "ğŸ‡¨ğŸ‡³" },
      { city: "å°åŒ—", country: "ä¸­å›½", zone: "Asia/Taipei", offset: 8, flag: "ğŸ‡¨ğŸ‡³" },
      { city: "ä¸œäº¬", country: "æ—¥æœ¬", zone: "Asia/Tokyo", offset: 9, flag: "ğŸ‡¯ğŸ‡µ" },
      { city: "é¦–å°”", country: "éŸ©å›½", zone: "Asia/Seoul", offset: 9, flag: "ğŸ‡°ğŸ‡·" },
      { city: "æ–°åŠ å¡", country: "æ–°åŠ å¡", zone: "Asia/Singapore", offset: 8, flag: "ğŸ‡¸ğŸ‡¬" },
      { city: "æ›¼è°·", country: "æ³°å›½", zone: "Asia/Bangkok", offset: 7, flag: "ğŸ‡¹ğŸ‡­" },
      { city: "æ–°å¾·é‡Œ", country: "å°åº¦", zone: "Asia/New_Delhi", offset: 5.5, flag: "ğŸ‡®ğŸ‡³" },
      { city: "è¿ªæ‹œ", country: "é˜¿è”é…‹", zone: "Asia/Dubai", offset: 4, flag: "ğŸ‡¦ğŸ‡ª" },
      { city: "è«æ–¯ç§‘", country: "ä¿„ç½—æ–¯", zone: "Europe/Moscow", offset: 3, flag: "ğŸ‡·ğŸ‡º" },
      { city: "ä¼¦æ•¦", country: "è‹±å›½", zone: "Europe/London", offset: 0, flag: "ğŸ‡¬ğŸ‡§" },
      { city: "å·´é»", country: "æ³•å›½", zone: "Europe/Paris", offset: 1, flag: "ğŸ‡«ğŸ‡·" },
      { city: "æŸæ—", country: "å¾·å›½", zone: "Europe/Berlin", offset: 1, flag: "ğŸ‡©ğŸ‡ª" },
      { city: "ç½—é©¬", country: "æ„å¤§åˆ©", zone: "Europe/Rome", offset: 1, flag: "ğŸ‡®ğŸ‡¹" },
      { city: "é©¬å¾·é‡Œ", country: "è¥¿ç­ç‰™", zone: "Europe/Madrid", offset: 1, flag: "ğŸ‡ªğŸ‡¸" },
      { city: "çº½çº¦", country: "ç¾å›½", zone: "America/New_York", offset: -5, flag: "ğŸ‡ºğŸ‡¸" },
      { city: "æ´›æ‰çŸ¶", country: "ç¾å›½", zone: "America/Los_Angeles", offset: -8, flag: "ğŸ‡ºğŸ‡¸" },
      { city: "èŠåŠ å“¥", country: "ç¾å›½", zone: "America/Chicago", offset: -6, flag: "ğŸ‡ºğŸ‡¸" },
      { city: "å¤šä¼¦å¤š", country: "åŠ æ‹¿å¤§", zone: "America/Toronto", offset: -5, flag: "ğŸ‡¨ğŸ‡¦" },
      { city: "æ¸©å“¥å", country: "åŠ æ‹¿å¤§", zone: "America/Vancouver", offset: -8, flag: "ğŸ‡¨ğŸ‡¦" },
      { city: "æ‚‰å°¼", country: "æ¾³å¤§åˆ©äºš", zone: "Australia/Sydney", offset: 11, flag: "ğŸ‡¦ğŸ‡º" },
      { city: "å¢¨å°”æœ¬", country: "æ¾³å¤§åˆ©äºš", zone: "Australia/Melbourne", offset: 11, flag: "ğŸ‡¦ğŸ‡º" },
      { city: "å¥¥å…‹å…°", country: "æ–°è¥¿å…°", zone: "Pacific/Auckland", offset: 13, flag: "ğŸ‡³ğŸ‡¿" },
      { city: "é‡Œçº¦çƒ­å†…å¢", country: "å·´è¥¿", zone: "America/Rio_de_Janeiro", offset: -3, flag: "ğŸ‡§ğŸ‡·" },
      { city: "ä¼Šæ–¯å¦å¸ƒå°”", country: "åœŸè€³å…¶", zone: "Europe/Istanbul", offset: 3, flag: "ğŸ‡¹ğŸ‡·" },
      { city: "çº¦ç¿°å†…æ–¯å ¡", country: "å—é", zone: "Africa/Johannesburg", offset: 2, flag: "ğŸ‡¿ğŸ‡¦" }
    ];

    // DOM å…ƒç´ 
    const sourceTimezoneSelect = document.getElementById('source-timezone');
    const targetTimezoneSelect = document.getElementById('target-timezone');
    const sourceDateInput = document.getElementById('source-date');
    const sourceTimeInput = document.getElementById('source-time');
    const targetDateElement = document.getElementById('target-date');
    const targetTimeElement = document.getElementById('target-time');
    const swapButton = document.getElementById('swap-btn');
    const conversionResultElement = document.getElementById('conversion-result');
    const resultTextElement = document.getElementById('result-text');
    const sourceTimezoneInfo = document.getElementById('source-timezone-info');
    const targetTimezoneInfo = document.getElementById('target-timezone-info');
    const localTimeElement = document.getElementById('local-time');
    const localDateElement = document.getElementById('local-date');
    const localTimezoneElement = document.getElementById('local-timezone');
    const currentYearElement = document.getElementById('current-year');
    const worldClockContainer = document.querySelector('#world-clock .grid');

    // åˆå§‹åŒ–å‡½æ•°
    function init() {
      // å¡«å……æ—¶åŒºé€‰æ‹©å™¨
      populateTimezoneSelectors();
      
      // è®¾ç½®é»˜è®¤æ—¥æœŸå’Œæ—¶é—´ä¸ºå½“å‰æ—¶é—´
      setDefaultDateTime();
      
      // åˆå§‹åŒ–æœ¬åœ°æ—¶é—´æ˜¾ç¤º
      updateLocalTime();
      setInterval(updateLocalTime, 1000);
      
      // åˆå§‹åŒ–ä¸–ç•Œæ—¶é’Ÿ
      populateWorldClock();
      setInterval(updateWorldClock, 1000);
      
      // è®¾ç½®å½“å‰å¹´ä»½
      currentYearElement.textContent = new Date().getFullYear();
      
      // æ‰§è¡Œåˆå§‹è½¬æ¢
      convertTime();
      
      // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
      addEventListeners();
    }

    // å¡«å……æ—¶åŒºé€‰æ‹©å™¨
    function populateTimezoneSelectors() {
      // æŒ‰åŸå¸‚åç§°æ’åº
      const sortedTimezones = [...timezones].sort((a, b) => a.city.localeCompare(b.city));
      
      sortedTimezones.forEach((tz, index) => {
        const offsetText = tz.offset >= 0 ? `+${tz.offset}` : tz.offset;
        
        // åˆ›å»ºæºæ—¶åŒºé€‰é¡¹
        const sourceOption = document.createElement('option');
        sourceOption.value = tz.zone;
        sourceOption.dataset.offset = tz.offset;
        sourceOption.dataset.city = tz.city;
        sourceOption.dataset.country = tz.country;
        sourceOption.dataset.flag = tz.flag;
        sourceOption.textContent = `${tz.flag} ${tz.city}, ${tz.country} (GMT${offsetText})`;
        sourceTimezoneSelect.appendChild(sourceOption);
        
        // åˆ›å»ºç›®æ ‡æ—¶åŒºé€‰é¡¹
        const targetOption = document.createElement('option');
        targetOption.value = tz.zone;
        targetOption.dataset.offset = tz.offset;
        targetOption.dataset.city = tz.city;
        targetOption.dataset.country = tz.country;
        targetOption.dataset.flag = tz.flag;
        targetOption.textContent = `${tz.flag} ${tz.city}, ${tz.country} (GMT${offsetText})`;
        targetTimezoneSelect.appendChild(targetOption);
      });
      
      // é»˜è®¤é€‰æ‹©åŒ—äº¬ä½œä¸ºæºæ—¶åŒºï¼Œçº½çº¦ä½œä¸ºç›®æ ‡æ—¶åŒº
      sourceTimezoneSelect.value = 'Asia/Shanghai';
      targetTimezoneSelect.value = 'America/New_York';
      
      // æ›´æ–°æ—¶åŒºä¿¡æ¯
      updateTimezoneInfo();
    }

    // è®¾ç½®é»˜è®¤æ—¥æœŸå’Œæ—¶é—´
    function setDefaultDateTime() {
      const now = new Date();
      
      // è®¾ç½®æ—¥æœŸ (YYYY-MM-DD)
      const date = now.toISOString().split('T')[0];
      sourceDateInput.value = date;
      
      // è®¾ç½®æ—¶é—´ (HH:MM)
      const hours = now.getHours().toString().padStart(2, '0');
      const minutes = now.getMinutes().toString().padStart(2, '0');
      sourceTimeInput.value = `${hours}:${minutes}`;
    }

    // æ›´æ–°æœ¬åœ°æ—¶é—´æ˜¾ç¤º
    function updateLocalTime() {
      const now = new Date();
      
      // æ˜¾ç¤ºæ—¶é—´ HH:MM:SS
      const timeString = now.toLocaleTimeString('zh-CN', {
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: false
      });
      localTimeElement.textContent = timeString;
      
      // æ˜¾ç¤ºæ—¥æœŸ
      const dateString = now.toLocaleDateString('zh-CN', {
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        weekday: 'long'
      });
      localDateElement.textContent = dateString;
      
      // æ˜¾ç¤ºæœ¬åœ°æ—¶åŒº
      const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
      const offset = now.getTimezoneOffset() / -60;
      const offsetText = offset >= 0 ? `+${offset}` : offset;
      localTimezoneElement.textContent = `${timezone} (GMT${offsetText})`;
    }

    // å¡«å……ä¸–ç•Œæ—¶é’Ÿ
    function populateWorldClock() {
      // é€‰æ‹©ä¸€äº›ä¸»è¦åŸå¸‚æ˜¾ç¤ºåœ¨ä¸–ç•Œæ—¶é’Ÿ
      const featuredCities = [
        'Asia/Shanghai', 'America/New_York', 'Europe/London', 
        'Asia/Tokyo', 'Australia/Sydney', 'Europe/Paris',
        'America/Los_Angeles', 'Asia/Dubai'
      ];
      
      featuredCities.forEach(zone => {
        const tzData = timezones.find(tz => tz.zone === zone);
        const offsetText = tzData.offset >= 0 ? `+${tzData.offset}` : tzData.offset;
        
        const clockCard = document.createElement('div');
        clockCard.className = 'bg-white rounded-xl shadow-md p-5 card-hover';
        clockCard.dataset.timezone = zone;
        
        clockCard.innerHTML = `
          <div class="flex justify-between items-start mb-3">
            <div>
              <h3 class="font-semibold flex items-center">
                ${tzData.flag} ${tzData.city}
              </h3>
              <p class="text-sm text-gray-500">${tzData.country}</p>
            </div>
            <span class="time-zone-offset">GMT${offsetText}</span>
          </div>
          <div class="clock-time text-xl font-mono font-bold mt-2"></div>
          <div class="clock-date text-sm text-gray-600 mt-1"></div>
        `;
        
        worldClockContainer.appendChild(clockCard);
      });
      
      // åˆå§‹æ›´æ–°ä¸€æ¬¡æ—¶é’Ÿ
      updateWorldClock();
    }

    // æ›´æ–°ä¸–ç•Œæ—¶é’Ÿ
    function updateWorldClock() {
      const now = new Date();
      
      document.querySelectorAll('#world-clock .grid > div').forEach(card => {
        const timezone = card.dataset.timezone;
        
        // æ˜¾ç¤ºæ—¶é—´
        const timeString = now.toLocaleTimeString('zh-CN', {
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit',
          hour12: false,
          timeZone: timezone
        });
        card.querySelector('.clock-time').textContent = timeString;
        
        // æ˜¾ç¤ºæ—¥æœŸ
        const dateString = now.toLocaleDateString('zh-CN', {
          month: 'short',
          day: 'numeric',
          weekday: 'short',
          timeZone: timezone
        });
        card.querySelector('.clock-date').textContent = dateString;
      });
    }

    // è½¬æ¢æ—¶é—´
    function convertTime() {
      // è·å–æºæ—¶åŒºä¿¡æ¯
      const sourceTimezone = sourceTimezoneSelect.value;
      const sourceCity = sourceTimezoneSelect.selectedOptions[0].dataset.city;
      const sourceCountry = sourceTimezoneSelect.selectedOptions[0].dataset.country;
      
      // è·å–ç›®æ ‡æ—¶åŒºä¿¡æ¯
      const targetTimezone = targetTimezoneSelect.value;
      const targetCity = targetTimezoneSelect.selectedOptions[0].dataset.city;
      const targetCountry = targetTimezoneSelect.selectedOptions[0].dataset.country;
      
      // è·å–æºæ—¥æœŸå’Œæ—¶é—´
      const sourceDate = sourceDateInput.value;
      const sourceTime = sourceTimeInput.value;
      
      if (!sourceDate || !sourceTime) return;
      
      // æ„å»ºæºæ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²
      const sourceDateTimeString = `${sourceDate}T${sourceTime}`;
      const sourceDateTime = new Date(sourceDateTimeString);
      
      // å¦‚æœæ—¥æœŸæ— æ•ˆï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
      if (isNaN(sourceDateTime.getTime())) {
        targetDateElement.textContent = 'æ— æ•ˆçš„æ—¥æœŸæ—¶é—´';
        targetTimeElement.textContent = 'è¯·æ£€æŸ¥è¾“å…¥';
        return;
      }
      
      // è½¬æ¢åˆ°ç›®æ ‡æ—¶åŒº
      // æ—¥æœŸæ˜¾ç¤º
      const targetDate = sourceDateTime.toLocaleDateString('zh-CN', {
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        weekday: 'long',
        timeZone: targetTimezone
      });
      
      // æ—¶é—´æ˜¾ç¤º
      const targetTime = sourceDateTime.toLocaleTimeString('zh-CN', {
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: false,
        timeZone: targetTimezone
      });
      
      // æ›´æ–°ç›®æ ‡æ—¥æœŸå’Œæ—¶é—´
      targetDateElement.textContent = targetDate;
      targetTimeElement.textContent = targetTime;
      
      // æ›´æ–°è½¬æ¢ç»“æœè¯´æ˜
      const sourceDateFormatted = sourceDateTime.toLocaleDateString('zh-CN', {
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        weekday: 'long',
        timeZone: sourceTimezone
      });
      
      resultTextElement.textContent = 
        `${sourceCity}, ${sourceCountry} çš„ ${sourceDateFormatted} ${sourceTime} ` +
        `å¯¹åº” ${targetCity}, ${targetCountry} çš„æ—¶é—´æ˜¯ ${targetTime}`;
      
      conversionResultElement.classList.remove('hidden');
    }

    // äº¤æ¢æºæ—¶åŒºå’Œç›®æ ‡æ—¶åŒº
    function swapTimezones() {
      const tempValue = sourceTimezoneSelect.value;
      sourceTimezoneSelect.value = targetTimezoneSelect.value;
      targetTimezoneSelect.value = tempValue;
      
      // æ›´æ–°æ—¶åŒºä¿¡æ¯
      updateTimezoneInfo();
      
      // é‡æ–°è½¬æ¢æ—¶é—´
      convertTime();
    }

    // æ›´æ–°æ—¶åŒºä¿¡æ¯
    function updateTimezoneInfo() {
      const sourceOffset = sourceTimezoneSelect.selectedOptions[0].dataset.offset;
      const sourceOffsetText = sourceOffset >= 0 ? `+${sourceOffset}` : sourceOffset;
      sourceTimezoneInfo.textContent = `æ—¶åŒºåç§»: GMT${sourceOffsetText} (å¯èƒ½å—å¤ä»¤æ—¶å½±å“)`;
      
      const targetOffset = targetTimezoneSelect.selectedOptions[0].dataset.offset;
      const targetOffsetText = targetOffset >= 0 ? `+${targetOffset}` : targetOffset;
      targetTimezoneInfo.textContent = `æ—¶åŒºåç§»: GMT${targetOffsetText} (å¯èƒ½å—å¤ä»¤æ—¶å½±å“)`;
    }

    // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
    function addEventListeners() {
      // æºæ—¶åŒºå˜åŒ–æ—¶
      sourceTimezoneSelect.addEventListener('change', () => {
        updateTimezoneInfo();
        convertTime();
      });
      
      // ç›®æ ‡æ—¶åŒºå˜åŒ–æ—¶
      targetTimezoneSelect.addEventListener('change', () => {
        updateTimezoneInfo();
        convertTime();
      });
      
      // æ—¥æœŸæˆ–æ—¶é—´å˜åŒ–æ—¶
      sourceDateInput.addEventListener('change', convertTime);
      sourceTimeInput.addEventListener('change', convertTime);
      
      // äº¤æ¢æŒ‰é’®ç‚¹å‡»æ—¶
      swapButton.addEventListener('click', swapTimezones);
      
      // å¹³æ»‘æ»šåŠ¨
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          if (targetId === '#') return;
          
          const targetElement = document.querySelector(targetId);
          if (targetElement) {
            targetElement.scrollIntoView({
              behavior: 'smooth'
            });
          }
        });
      });
    }

    // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>